<div class="my-body">
  <div id="my-progress-bar" *ngIf="isLoading">
    <md-progress-bar mode="query" color="accent"></md-progress-bar>
  </div>
  <div class="container-fluid container-main my-common-class">

    <!-- Title -->

    <section class="my-section title-container">
      <div class="row">
        <div class="col-lg-5">
          <h4 class="content-title">Lineup Optimizer</h4>
        </div>
        <div class="col-lg-3 col-sm-5 col-border-b">
          <a class="btn"
             (click)="operatorChanged('FanDuel')"
             [class.btn-gray-black]="selectedOperator != 'FanDuel'"
             [class.btn-yellow-black]="selectedOperator == 'FanDuel'">FanDuel</a>
          <a class="btn"
             (click)="operatorChanged('DraftKings')"
             [class.btn-gray-black]="selectedOperator != 'DraftKings'"
             [class.btn-yellow-black]="selectedOperator=='DraftKings'">DraftKings</a>
        </div>
        <div class="col-lg-1 col-sm-2 col-border-b">

        </div>
        <div class="col-lg-3 col-sm-5 text-right">
          <a class="btn btn-gray-black" data-toggle="modal" data-target="#advance-feature-filters">Settings</a>
          <!--<a class="btn btn-gray-black active">All</a>
          <a class="btn btn-gray-black">My Pool</a>
          <a class="btn btn-gray-black">Daily Lineups</a>-->
        </div>
      </div>
    </section>
    <!--/ Title -->

    <!-- Filters -->
    <section class="my-section table-filtes-container section-gray">
      <div class="row">
        <div class="col-lg-7 col-md-6">
          <div class="row">
            <div class="col-lg-2 col-sm-3 no-padding-right">
              <select class="form-control input-sm" (change)="onSlateChanged($event)">
                <option [value]="0">All Slates</option>
                <option *ngFor="let slate of slates" [value]="slate.SlateID">{{slate.Slate}}</option>
              </select>
            </div>
            <div class="col-sm-3 no-padding-right">
              <select class="form-control input-sm" (change)="selectedGameChanged($event)">
                <option [value]="0">All Games</option>
                <option *ngFor="let game of games"
                        [value]="game.gameId">
                  {{game.homeTeam}}-{{game.awayTeam}}
                </option>
              </select>
            </div>
            <div class="col-sm-6">
              <!-- == If yo do not need red x, remove this classes "filter-icon filter-icon-x" == -->
              <div class="filter-icon filter-icon-x">
                <input class="form-control input-sm" (input)="onSearchStrChanged($event)" type="text" placeholder="Search">
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-5 col-md-6">
          <div class="row">
            <div class="col-md-5 col-sm-4 no-padding-right">
              <!-- input class="form-control input-sm" type="text" placeholder="Select Projection"-->
              <select class="form-control input-sm">
                <option>Select Projection</option>
                <option>Projection 1</option>
                <option>Projection 3</option>
                <option>Projection 4</option>
                <option>Projection 5</option>
              </select>
            </div>
            <div class="col-sm-3 no-padding-right">
              <input class="form-control input-sm" type="text" value="06/07/2017">
            </div>
            <div class="col-md-4 col-sm-5">
              <a class="btn btn-lg btn-yellow-black btn-noradius btn-block" (click)="onBtnGenerateLineupClick()">Generate
                Lineups</a>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!--/ Filters -->

    <!-- Table -->
    <section class="my-section table-container table-responsive">
      <table class="table main-table table-striped td-center" [mfData]="players" #records="mfDataTable"
             [mfRowsOnPage]="10">
        <thead>
        <tr>
          <th>Lock</th>
          <th>Exclude</th>
          <th>
            <mfDefaultSorter by="FirstName">Player Name</mfDefaultSorter>
          </th>
          <th>
            <mfDefaultSorter by="Position">Position</mfDefaultSorter>
          </th>
          <th>
            <mfDefaultSorter by="Team">Team</mfDefaultSorter>
          </th>
          <th>
            <mfDefaultSorter by="Salary">Salary</mfDefaultSorter>
          </th>
          <th>Hand</th>
          <th><mfDefaultSorter by="BattingOrder">Batting Order</mfDefaultSorter></th>
          <th>
            <mfDefaultSorter by="Opponent">Opponent</mfDefaultSorter>
          </th>
          <th>
            <mfDefaultSorter by="vsPitcher">vs Pitcher</mfDefaultSorter>
          </th>
          <th>
            <mfDefaultSorter by="Runs">Runs</mfDefaultSorter>
          </th>
          <th>
            <mfDefaultSorter by="OverUnder">O/U</mfDefaultSorter>
          </th>
          <th>
            <mfDefaultSorter by="Line">Line</mfDefaultSorter>
          </th>
          <th>Exposure</th>
          <th>
            <mfDefaultSorter by="Points">Projection</mfDefaultSorter>
          </th>
          <th>
            <mfDefaultSorter by="Value">Value</mfDefaultSorter>
          </th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let player of records.data">
          <td class="text-center"><img src="../../../../assets/img/Key.png"/></td>
          <td><img src="../../../../assets/img/x-red.png"
                   (click)="btnExcludePlayerClicked(player)"
                   style="cursor: pointer"/></td>
          <td>{{player.Name}}</td>
          <td>{{player.Position}}</td>
          <td>{{player.Team}}</td>
          <td>{{player.Salary}}</td>
          <td>{{player.BatHand}} - {{player.ThrowHand}}</td>
          <td>{{player.BattingOrder ? player.BattingOrder : '-'}}</td>
          <td>{{player.Opponent}}</td>
          <td>{{player.vsPitcher}}</td>
          <td>{{player.Runs}}</td>
          <td>{{player.OverUnder}}</td>
          <td>{{player.Line}}</td>
          <td><input class="form-control input-sm" [(ngModel)]="player.exposureValue" type="number" max="100" min="0"
                     placeholder="100%">
          </td>
          <td>{{player.Points ? player.Points : '-'}}</td>
          <td>{{player.Value ? player.Value : '-'}}</td>
        </tr>
        </tbody>
        <tfoot>
        <tr>
          <td colspan="16">
            <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25]"></mfBootstrapPaginator>
          </td>
        </tr>
        </tfoot>
      </table>
    </section>
    <!--/ Table -->
    <rp-adv-filter [advFilterSettings]="advFilterSettings"
                   #advFilterPopup
                   (filterCriteriaChanged)="onAdvFilterCriteriaChangedEvent($event)"></rp-adv-filter>
  </div>
</div>
